<!--<div id="header">
    <div id="header-right"><div style="float:right;width:100%;text-align:right;"><font color="grey" style="font-size:x-large;">Motivation<br>
    <font color="#852339"><b>Processing Steps</b></font><br>
    Results</font></div></div>
</div>
<section>-->


<h2>Musket</h2>
<div class="" data-fragment-index="1" style="float:left;width:45%"><br><br><br>
  <ul>
    <li style="padding-top:2%;">Tool um Code zu Modellen zu generieren </li>
    <ul><li style="padding-top:2%;">Xtend, Xtext</li></ul>
  <li style="padding-top:2%;">Modelle basierend auf DSL Musket</li></ul>
</div>
<div class="" data-fragment-index="1" style="float:left;width:55%;height:100%">
  <img alt="wwu-logo" style="width:100%;float:right;border: 5px solid grey;border-radius: 4px;" border="5" data-src="images/FS_pictures/MusketModel.png">
</div>

---

<h2>Musket</h2>
<div class="" data-fragment-index="1" style="float:left;width:55%">
  <ul style="font-size:120%">
    <li>IDE Hervorhebungen</li>
    <li>Modelle werden geprüft</li>
  </ul><br>
  <div style="paddint-top:2%;font-size:120%">Struktur des Models:</div>
  <div style="padding-top:2%;font-size:120%">
     <ol>
       <li> Konfigurationen </li>
         <div style="font-size:80%">Hardware spezifizieren </div>
       <li> Datenstrukturen </li>
         <div style="font-size:80%">Arrays, Matrizen und Structs</div>
       <li>  Nutzer Funktionen </li>
         <div style="font-size:80%">Befehlsablauf für Skelette</div>
       <li> Main Funktion </li>
         <div style="font-size:80%">Logischer Befehlsablauf des Programmes</div>
     </ol>
  </div>
</div>
<div class="" data-fragment-index="1" style="float:left;width:45%">
  <img alt="wwu-logo" style="width:80%;float:right;border: 5px solid grey;border-radius: 4px;" border="5" data-src="images/FS_pictures/IDE.png">

</div>

---

<h2>Musket</h2>

<div style="font-size:120%;">
Konfigurationen<br>
</div>
<div class="" data-fragment-index="1">
  <div style="float:left;width:40%;padding-top:2%;font-size:120%;"><br>
     <ul>
       <li> Hardware Spezifikation </li>
       <li style="padding-top:5%;"> Generiert mehrere Programme </li>

     </ul>
  </div>
  <p style="float:left;width:45%;font-size:120%;background-color:rgba(0, 0, 0, 0.04);">
    <code style="background-color:initial;"><font color="grey" style="margin-left:-12px;">1 </font> <font color="#D69D85"> #config</font> <font color="#569CD6">PLATFORM</font> CPU_MPMD GPU CUDA;<br>
      <font color="grey">2 </font> <font color="#D69D85"> #config</font> <font color="#569CD6">PROCESSES</font> 4 <br>
      <font color="grey">3 </font> <font color="#D69D85"> #config</font> <font color="#569CD6">CORES</font> 24 <br>
      <font color="grey">4 </font> <font color="#D69D85"> #config</font> <font color="#569CD6">GPUS</font> 2 <br>
      <font color="grey">5 </font> <font color="#D69D85"> #config</font> <font color="#569CD6">MODE</font> release</code>
  </p>
</div>


---

<h2>Musket</h2>

<div style="font-size:120%;">
Datenstrukturen<br>
</div>
  <div  style="float:left;width:50%;padding-top:2%;font-size:100%;">
    <ul>
      <li style="padding-top:2%"><code>array</code>, <code>struct</code> oder <code>matrix</code></li>
      <li style="padding-top:2%">Parameter für Verteilung z.B. <code>dist</code></li>
      <li style="padding-top:2%">Optional: Initialisierungswerte</li></ul>
      <div class="fragment" data-fragment-index="2" style="padding-top:5%"><br><br>
      <ul>
        <li  style="padding-top:2%">Vermeidung von wiederholendem Code</li>
        <li  style="padding-top:2%">Index Berechnungen für Matrixen</li>
        <li  style="padding-top:2%">Abstraktion von Datenmenge</li></ul></div>
  </div>
  <div  style="float:right;width:50%;padding-top:2%;font-size:100%;">
    <div style="padding-top:30px"><br>
    <code><font color="grey" style="margin-left:-30px;"></font> <font color="#D69D85">matrix</font><<font color="#4EC9B0">double</font>, 42, 42, <font color="#D69D85">dist</font>> as = {0.1};<font color="#4EC9B0"></font>
    <font color="grey"></font> <font color="#D69D85">array</font><<font color="#4EC9B0">float</font>, 42, <font color="#D69D85">copy</font>> bs;<font color="#4EC9B0"></font></code><br><hr style="border: 1px solid">
    <div class="fragment" data-fragment-index="2" style="float:left;padding-top:5%;font-size:100%;">
      Bsp. Array in CUDA
      <p style="background-color:rgba(0, 0, 0, 0.04);width:100%; font-size:100%;">
      <code style="background-color:initial"><font color="grey" style="margin-left:-10px;">1 </font> <font color="#4EC9B0">int</font> size = 42;<br>
      <font color="grey">2 </font> <font color="#4EC9B0">float\*</font> d_bs;<br>
      <font color="grey">3 </font> <font color="#4EC9B0">float\*</font> h_bs = <font color="#569CD6">malloc</font>(size \* <font color="#D69D85">sizeof</font>(<font color="#4EC9B0">float</font>));<br>
      <font color="grey">4 </font> <font color="#569CD6">cudaMalloc</font>(&d_bs, size \* <font color="#D69D85">sizeof</font>(<font color="#4EC9B0">float</font>));<br>
      <font color="grey">5 </font> <font color="#569CD6">cudaMemcpy</font>(&d_bs, h_bs, size \* <font color="#D69D85">sizeof</font>(<font color="#4EC9B0">float</font>));</code></p>
    </div>
      </div>
  </div>


---

<h2>Musket</h2>

<div style="font-size:120%;">
Nutzer Funktionen<br>
</div>
  <div  style="padding-top:2%;">
    <ul>
      <li style="padding-top:2%;"> I.d.R. auf einem/zwei Elementen der Datenstruktur ausgeführt</li>
      <li style="padding-top:2%;"> Zugriffe auf globale Datenstrukturen</li>
      <li style="padding-top:2%;"> Parameter abhängig von Skelett Variante</li>
      <ul><li> Index oder InPlace</li></ul>
      </ul>
  </div>
  <p style="font-size:120%;background-color:rgba(0, 0, 0, 0.04);width:65%">
    <code style="background-color:initial"><font color="grey" style="margin-left:-10px">1 </font> <font color="#4EC9B0"> double</font> <font color="#D69D85">dotProduct</font>(<font color="#4EC9B0">int</font> i, <font color="#4EC9B0">int</font> j, <font color="#4EC9B0">double</font> Cij){<br>
    <font color="grey">2 </font> &nbsp; &nbsp; for (<font color="#4EC9B0">int</font> k, k = 0; k < <font color="#4EC9B0">cs</font>.<font color="#D69D85">columnsLocal</font>(); k++) {<br>
  	<font color="grey">3 </font>	&nbsp; &nbsp; &nbsp; &nbsp; Cij += <font color="#4EC9B0">as</font>[[i,k]] &#42; <font color="#4EC9B0">bs</font>[[k,j]]; }<br>
    <font color="grey">4 </font>&nbsp; &nbsp;return Cij;<br>
  <font color="grey">5 </font>}</code>
   </p>



---

<h2>Musket</h2>

<div style="font-size:120%;">
Main Funktion<br>
</div>
  <div style="float:left;width:40%;padding-top:2%;font-size:100%;padding-left:2%">
      <li>Musket Funktionen</li>
      <ul>
        <li>Zeitmessung</li>
      <li><code>print</code> Funktionen für komplexe Datenstrukturen</li>
    <li>...</li></ul>
    <li>Skelette</li>
    <ul>
      <li>Map, Reduce, Zip</li>
    <li>shiftPartition</li>
  <li>...</li></ul>
  </div>
  <div style="float:left;width:55%;font-size:100%;">
    <p style="font-size:120%;background-color:rgba(0, 0, 0, 0.04);font-size:100%;width:92%;margin-top:-30px">

    <code style="background-color:initial"><font color="grey" style="margin-left:-10px"> </font> <font color="#D69D85">main</font> {<br>

	&nbsp; &nbsp;mkt::<font color="#569CD6">roi_start</font>();<br>
	&nbsp; &nbsp;<font color="#4EC9B0">as</font>.<font color="#569CD6">shiftPartitionsHorizontally</font>(negate());<br>
	&nbsp; &nbsp;<font color="#4EC9B0">bs</font>.<font color="#569CD6">shiftPartitionsVertically</font>(negate());<br>

	&nbsp; &nbsp;for (<font color="#4EC9B0">int</font> i = 0; i < <font color="#4EC9B0">as</font>.<font color="#569CD6">blocksInRow</font>(); ++i) {<br>
    	&nbsp; &nbsp;&nbsp; &nbsp;<font color="#4EC9B0">cs</font>.<font color="#569CD6">mapLocalIndexInPlace</font>(dotProduct());<br>
    	&nbsp; &nbsp;&nbsp; &nbsp;<font color="#4EC9B0">as</font>.<font color="#569CD6">shiftPartitionsHorizontally</font>(minusOne());<br>
    	&nbsp; &nbsp;&nbsp; &nbsp;<font color="#4EC9B0">bs</font>.<font color="#569CD6">shiftPartitionsVertically</font>(minusOne());<br>
	&nbsp; &nbsp;}<br>

	&nbsp; &nbsp;<font color="#4EC9B0">as</font>.<font color="#569CD6">shiftPartitionsHorizontally</font>(identity());<br>
	&nbsp; &nbsp;<font color="#4EC9B0">bs</font>.<font color="#569CD6">shiftPartitionsVertically</font>(identity());<br>
&nbsp; &nbsp;mkt::<font color="#569CD6">roi_end</font>();<br>
}</code></span>
  </div>
